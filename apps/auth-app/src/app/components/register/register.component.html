<!-- register.component.html -->
<div
  style="display: flex; justify-content: center; align-items: center; min-height: 100vh;"
>
  <mat-card style="width: 400px;">
    <mat-card-header>
      <mat-card-title>Register</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
        <!-- Full Name -->
        <mat-form-field appearance="fill" style="width: 100%; margin-bottom: 16px;">
          <mat-label>Full Name</mat-label>
          <input matInput formControlName="fullName" />
          <mat-error *ngIf="fullName.invalid && (fullName.dirty || fullName.touched)">
            Full name is required
          </mat-error>
        </mat-form-field>

        <!-- Email -->
        <mat-form-field appearance="fill" style="width: 100%; margin-bottom: 16px;">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" />
          <mat-error *ngIf="email.invalid && (email.dirty || email.touched)">
            <ng-container *ngIf="email.hasError('required')">
              Email is required
            </ng-container>
            <ng-container *ngIf="email.hasError('pattern')">
              Email is invalid
            </ng-container>
          </mat-error>
        </mat-form-field>

        <!-- Password -->
        <mat-form-field appearance="fill" style="width: 100%; margin-bottom: 16px;">
          <mat-label>Password</mat-label>
          <input
            matInput
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
          />
          <button
            mat-icon-button
            matSuffix
            type="button"
            (click)="showPassword = !showPassword"
            [attr.aria-label]="'Toggle password visibility'"
          >
            <mat-icon>{{ showPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>
          <mat-error *ngIf="password.invalid && (password.dirty || password.touched)">
            Password is required
          </mat-error>
        </mat-form-field>

        <!-- Confirm Password -->
        <mat-form-field appearance="fill" style="width: 100%; margin-bottom: 24px;">
          <mat-label>Confirm Password</mat-label>
          <input
            matInput
            [type]="showConfirmPassword ? 'text' : 'password'"
            formControlName="confirmPassword"
          />
          <button
            mat-icon-button
            matSuffix
            type="button"
            (click)="showConfirmPassword = !showConfirmPassword"
            [attr.aria-label]="'Toggle confirm password visibility'"
          >
            <mat-icon>
              {{ showConfirmPassword ? 'visibility_off' : 'visibility' }}
            </mat-icon>
          </button>
          <mat-error *ngIf="confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched)">
            Confirm password is required
          </mat-error>
          <mat-error
            *ngIf="
              registerForm.hasError('passwordMismatch') &&
              password.valid &&
              confirmPassword.valid
            "
          >
            Passwords do not match
          </mat-error>
        </mat-form-field>

        <!-- Submit -->
        <button
          mat-flat-button
          color="primary"
          style="width: 100%; margin-bottom: 8px;"
          type="submit"
          [disabled]="registerForm.invalid"
        >
          Register
        </button>

        <div style="text-align: center;">
          Already a member?
          <a routerLink="/login" mat-button>Login</a>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
